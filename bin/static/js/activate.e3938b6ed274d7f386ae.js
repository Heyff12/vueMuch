webpackJsonp([8],{"1avm":function(e,t,a){"use strict";var n=a("34+y"),i=(a.n(n),a("X+yh")),o=a.n(i),s=a("qONS"),r=(a.n(s),a("UQTY")),c=a.n(r),l=a("7+uW"),d=a("mtWM"),u=a.n(d),_=a("Rf8U"),v=a.n(_);l.default.use(v.a,u.a);t.a={ajax_get:function(e,t,a,n,i,s,r){var l=e;c.a.open(),l.$http.get(t,{params:a}).then(function(e){if(c.a.close(),r)return r(a),!1;var t=e.data;"0000"==t.respcd?n&&n(t):(t.respmsg?o()(t.respmsg):o()(t.resperr),i&&i(t))},function(e){s&&s(),c.a.close(),o()("系统问题,请稍后再试")}).catch(function(e){s&&s(),c.a.close()})},ajax_post:function(e,t,a,n,i,s,r){var l=e;c.a.open(),l.$http.post(t,a).then(function(e){if(c.a.close(),r)return r(a),!1;var t=e.data;"0000"==t.respcd?n&&n(t):(t.respmsg?o()(t.respmsg):o()(t.resperr),i&&i(t))},function(e){s&&s(),c.a.close(),o()("系统问题,请稍后再试")}).catch(function(e){s&&s(),c.a.close()})}}},"34+y":function(e,t){},OgVB:function(e,t){},Pleo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("sVYa");var n=a("v5o6"),i=a.n(n),o=a("7+uW"),s=a("/ocq"),r=(a("34+y"),a("X+yh")),c=a.n(r),l=(a("OgVB"),a("/Lyv")),d=a.n(l),u=a("jrXj"),_=a.n(u),v={name:"activate",components:{},data:function(){return{reg:{mobile:"",verify_code:""},regErr:{mobile:!1,verify_code:!1},info:{real_name:"",idnumber:"",district_name:[],store:[{store_name:"",address:""}]},role_type:"",mobile:"",if_mobile:!1,has_info:!1,captcha_url:"/fenqi/v1/api/tools/send",check_url:"/fenqi/v1/api/user/check/info",info_url:"/fenqi/v1/api/user/info",active_url:"/fenqi/v1/api/user/active",time_sec:0}},created:function(){this.getInfoStart()},methods:{yanzheng_common:function(e,t,a,n,i){var o=this;_.a[t](this.reg[e],!0,a,function(){o.regErr[e]=!1,n&&n()},function(){o.regErr[e]=!0,i&&i()},this)},check_captcha:function(){var e=this;for(var t in console.log("blur"),this.yanzheng_common("mobile","test_phone",""),this.yanzheng_common("verify_code","test_anycode","^[\\d]{6}$"),this.regErr)if(1==this.regErr[t])return!1;this.$ajax_axios.ajax_post(this,this.check_url,this.reg,function(t){e.getInfo()})},getInfo:function(){var e=this;this.$ajax_axios.ajax_get(this,this.info_url,"",function(t){console.log(t.data);var a="",n=t.data.base.role_type;if(1==n?a="门店销售员":3==n?a="门店管理人":5==n&&(a="大区负责人"),e.info.real_name=t.data.base.real_name,e.info.idnumber=t.data.base.idnumber,5==n?e.info.district_name=t.data.info:e.info.district_name.push(t.data.info[0]),e.info.store=t.data.info,e.mobile=t.data.base.mobile,e.role_type=t.data.base.role_type,e.has_info=!0,3==t.data.base.status)return d.a.alert("您的销售账户已激活！").then(function(e){"undefined"==typeof WeixinJSBridge?(window.opener=null,window.close()):WeixinJSBridge.invoke("closeWindow",{},function(e){})}),!1;var i="已匹配您为["+a+"]，请确认信息后激活账户";d.a.alert(i)})},getInfoStart:function(){var e=this;this.$ajax_axios.ajax_get(this,this.info_url,"",function(t){if(console.log(t.data),t.data.base.mobile){e.if_mobile=!0;var a="",n=t.data.base.role_type;if(1==n?a="门店销售员":3==n?a="门店管理人":5==n&&(a="大区负责人"),e.info.real_name=t.data.base.real_name,e.info.idnumber=t.data.base.idnumber,5==n?e.info.district_name=t.data.info:e.info.district_name.push(t.data.info[0]),e.info.store=t.data.info,e.mobile=t.data.base.mobile,e.role_type=t.data.base.role_type,e.has_info=!0,3==t.data.base.status)return d.a.alert("您的销售账户已激活！").then(function(e){"undefined"==typeof WeixinJSBridge?(window.opener=null,window.close()):WeixinJSBridge.invoke("closeWindow",{},function(e){})}),!1;var i="已匹配您为["+a+"]，请确认信息后激活账户";d.a.alert(i)}})},get_reg:function(){this.$ajax_axios.ajax_post(this,this.active_url,{mobile:this.mobile.toString(),role_type:this.role_type.toString()},function(e){window.location.href=e.data.redirect_url})},getCode:function(){var e=this,t=this;this.yanzheng_common("mobile","test_phone","",function(){e.time_sec=60;var a=window.setInterval(function(){t.time_sec--<=0&&window.clearInterval(a)},1e3);e.$ajax_axios.ajax_post(e,e.captcha_url,{mobile:e.reg.mobile},function(t){e.captcha=t.data.captcha})})},getCode2:function(){this.time_sec>0&&c()("60s后重新获取")}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{directives:[{name:"show",rawName:"v-show",value:!e.if_mobile,expression:"!if_mobile"}],staticClass:"defaultForm"},[a("dl",{staticClass:"hang",class:{error_data:e.regErr.mobile}},[a("dt"),e._v(" "),a("dd",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reg.mobile,expression:"reg.mobile"}],staticClass:"text",attrs:{type:"number",value:"",placeholder:"请填写绑定销售身份的手机号"},domProps:{value:e.reg.mobile},on:{blur:function(t){e.yanzheng_common("mobile","test_phone","")},input:function(t){t.target.composing||e.$set(e.reg,"mobile",t.target.value)}}})])]),e._v(" "),a("dl",{staticClass:"hang",class:{error_data:e.regErr.verify_code}},[a("dt"),e._v(" "),a("dd",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reg.verify_code,expression:"reg.verify_code"}],staticClass:"text text_shot2 t_l",attrs:{type:"number",name:"",value:"",placeholder:"请输入验证码"},domProps:{value:e.reg.verify_code},on:{blur:e.check_captcha,input:function(t){t.target.composing||e.$set(e.reg,"verify_code",t.target.value)}}}),e._v(" "),a("p",{staticClass:"entycode"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.time_sec<=0,expression:"time_sec<=0"}],staticClass:"get_entycode",on:{click:e.getCode}},[e._v("获取验证码")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.time_sec>0,expression:"time_sec>0"}],staticClass:"show_entycode",on:{click:e.getCode2}},[a("i",{staticClass:"i_normal"},[e._v(e._s(e.time_sec))]),e._v("秒后重发")])])])])]),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:e.if_mobile,expression:"if_mobile"}],staticClass:"defaultForm"},[a("dl",{staticClass:"hang showdt"},[a("dt",[e._v("手机号：")]),e._v(" "),a("dd",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],staticClass:"text",attrs:{type:"number",value:"",placeholder:"",readonly:"readonly"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})])])]),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:e.has_info,expression:"has_info"}],staticClass:"info"},[a("div",{staticClass:"bg"}),e._v(" "),a("ul",[a("li",[a("dl",[a("dt",[e._v("真实姓名")]),e._v(" "),a("dd",[e._v(e._s(e.info.real_name))])])]),e._v(" "),a("li",[a("dl",[a("dt",[e._v("省份证号码")]),e._v(" "),a("dd",[e._v(e._s(e.info.idnumber))])])]),e._v(" "),e._l(e.info.district_name,function(t){return a("li",[a("dl",[a("dt",[e._v("所在大区")]),e._v(" "),a("dd",[e._v(e._s(t.district_name))])])])}),e._v(" "),e._l(e.info.store,function(t){return[a("li",{directives:[{name:"show",rawName:"v-show",value:1==e.role_type||3==e.role_type,expression:"role_type==1 || role_type==3"}]},[a("dl",[a("dt",[e._v("所在门店")]),e._v(" "),a("dd",[e._v(e._s(t.store_name))])])]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:1==e.role_type||3==e.role_type,expression:"role_type==1 || role_type==3"}]},[a("dl",[a("dt",[e._v("门店地址")]),e._v(" "),a("dd",[e._v(e._s(t.address))])])])]})],2),e._v(" "),a("p",{staticClass:"note"},[e._v("温馨提示：只需提交以上信息，点击【激活】系统会自动绑定并 激活您的账户，若对信息有疑问请及时致电：4000-360-280.\n            ")])]),e._v(" "),a("section",{staticClass:"btn"},[e.has_info?a("span",{on:{click:e.get_reg}},[e._v("激活")]):a("span",{staticClass:"disa"},[e._v("激活")])])])},staticRenderFns:[]};var m=a("VU/8")(v,f,!1,function(e){a("R/U4")},null,null).exports;o.default.use(s.a);var p=[{path:"/",redirect:"/activate"},{name:"activate",path:"/activate",component:m}],h=new s.a({scrollBehavior:function(){return{x:0,y:0}},routes:p}),g=(a("rAnJ"),a("1avm"));o.default.prototype.$ajax_axios=g.a,window.FastClick=i.a,new o.default({el:"#app",router:h,template:"<App/>",components:{App:m}})},"R/U4":function(e,t){},ULTG:function(e,t){},jrXj:function(e,t){function a(e){return e<10?"0"+e:e}t.test_tel=function(e,t,a,n){(t||e.length>0)&&(/^1[0-9]{10}$/.test(e)?a("success"):a("error"))},t.test_any=function(e,t,a,n,i,o,s){var r=new RegExp("^[\\S\\s]{"+a+","+n+"}$");(i||e.length>0)&&(r.test(e)?o("success"):o("error"))},t.test_phone=function(e,t,a,n,i,o){var s=/^1[0-9]{10}$/;a&&(s=new RegExp(a)),(t||e.length>0)&&(s.test(e)?n():i())},t.test_anycode=function(e,t,a,n,i,o){var s=new RegExp(a);(t||e.length>0)&&(s.test(e)?n():i())},t.test_equal=function(e,t,a,n,i){e==t?a():n()},t.test_idNumber=function(e,t,a,n,i,o){var s=new RegExp("^(^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$)|(^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])((\\d{4})|\\d{3}[Xx])$)$");(t||e.length>0)&&(s.test(e)?n():i())},t.get_datetime=function(e){var t=new Date(e);return t.getFullYear()+"-"+a(t.getMonth()+1)+"-"+a(t.getDate())+" "+a(t.getHours())+":"+a(t.getMinutes())+":"+a(t.getSeconds())}},qONS:function(e,t){},rAnJ:function(e,t){function a(){WeixinJSBridge.call("hideOptionMenu"),WeixinJSBridge.call("hideToolbar")}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",a,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",a),document.attachEvent("onWeixinJSBridgeReady",a)):a()}},["Pleo"]);
//# sourceMappingURL=activate.e3938b6ed274d7f386ae.js.map